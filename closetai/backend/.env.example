# Server
PORT=5000
NODE_ENV=development

# Database (use DATABASE_URL for CI/demo, or DB_* for standard config)
# DATABASE_URL=postgres://user:pass@localhost:5432/closetai
DB_HOST=localhost
DB_PORT=5432
DB_NAME=closetai
DB_USER=postgres
DB_PASSWORD=postgres

# JWT
JWT_SECRET=your_jwt_secret_key_change_in_production
JWT_EXPIRES_IN=7d

# S3 / Linode Object Storage (required for async jobs: VTON, generate, measure)
# Use S3_* for AWS S3 or Linode (S3-compatible). For Linode: S3_ENDPOINT=https://us-east-1.linodeobjects.com
S3_BUCKET=
S3_REGION=us-east-1
S3_KEY=
S3_SECRET=
S3_ENDPOINT=

# Linode Object Storage (optional - uses local fallback if missing)
LINODE_ENDPOINT=https://us-sea-1.linodeobjects.com
LINODE_BUCKET=closetai-wardrobe
LINODE_ACCESS_KEY=
LINODE_SECRET_KEY=

# External APIs (optional - services degrade gracefully)
OPENAI_API_KEY=
# YouCam / PerfectCorp API (primary env var names)
YOUCAM_API_KEY=
YOUCAM_SECRET_KEY=
PERFECT_CORP_BASE_URL=https://yce-api-01.makeupar.com
PERFECT_CORP_YCE_URL=https://yce-api-01.makeupar.com/s2s/v2.0

# You.com API (required for live trend search)
YOUCOM_API_KEY=
YOUCOM_BASE_URL=https://api.ydc-index.io/v1

# Queue & Worker (for async generation jobs)
QUEUE_NAME=perfectcorp-jobs
WORKER_CONCURRENCY=2
MAX_JOB_RETRIES=3
WORKER_PORT=5002

# Redis for distributed trend cache (fallback to NodeCache if not set)
REDIS_URL=redis://127.0.0.1:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# Trend cache TTL in seconds (default 6 hours)
TREND_CACHE_TTL_SECONDS=21600
REMOVE_BG_API_KEY=
OPENWEATHERMAP_API_KEY=

# Billing & Usage (optional)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
SEGMENT_WRITE_KEY=
ADMIN_TOKEN=devtoken

# === BUSINESS FEATURES CONFIGURATION ===

# A/B Testing
AB_TEST_API_KEY=
AB_TEST_PROVIDER=internal  # 'internal', 'launchdarkly', 'optimizely'

# CRM Integrations
# HubSpot
HUBSPOT_API_KEY=
HUBSPOT_PORTAL_ID=

# Salesforce
SALESFORCE_CLIENT_ID=
SALESFORCE_CLIENT_SECRET=
SALESFORCE_INSTANCE_URL=

# Mailchimp
MAILCHIMP_API_KEY=
MAILCHIMP_SERVER_PREFIX=

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Worker Configuration
QUEUE_NAME=closetai-jobs
WORKER_CONCURRENCY=2
WORKER_PORT=5002

# ============================================
# Jewelry AR Try-On (PerfectCorp)
# ============================================
# Integration mode: demo (default) or real
INTEGRATION_MODE=demo
DEMO_MODE=true

# PerfectCorp Jewelry API (uses YOUCAM_API_KEY from above)
PERFECT_CORP_API_BASE=https://yce-api-01.makeupar.com/s2s/v2.0
PERFECT_CORP_WEBHOOK_SECRET=

# AR Task Polling Configuration
AR_TASK_POLL_TIMEOUT_MS=300000
AR_TASK_POLL_INTERVAL_MS=2000
MAX_PROVIDER_RETRIES=5

# Jewelry-specific settings
MAX_UPLOAD_SIZE_BYTES=5242880
